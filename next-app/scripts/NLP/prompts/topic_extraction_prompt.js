export default function buildTopicClassificationPrompt(speech) {
  const TOPIC_CATEGORIES = [
    "Οικονομική Πολιτική και Δημοσιονομικά",
    "Ανάπτυξη, Ανταγωνιστικότητα και Επενδύσεις",
    "Εργασία και Κοινωνική Ασφάλιση",
    "Παιδεία, Θρησκεύματα, Έρευνα και Καινοτομία",
    "Υγεία και Πρόνοια",
    "Εξωτερική Πολιτική και Ευρωπαϊκές Υποθέσεις",
    "Εθνική Άμυνα",
    "Δικαιοσύνη και Ανθρώπινα Δικαιώματα",
    "Δημόσια Τάξη και Προστασία του Πολίτη",
    "Περιβάλλον, Ενέργεια και Κλιματική Αλλαγή",
    "Υποδομές, Μεταφορές και Δίκτυα",
    "Αγροτική Ανάπτυξη και Τρόφιμα",
    "Τουρισμός",
    "Πολιτισμός και Αθλητισμός",
    "Ψηφιακή Διακυβέρνηση και Επικοινωνίες",
    "Στέγαση και Αστικός Σχεδιασμός",
    "Δημόσια Διοίκηση",
    "Μετανάστευση και Άσυλο",
    "Ναυτιλία και Νησιά",
    "Θεσμοί και Κοινοβούλιο",
    "Διαφάνεια και Λογοδοσία",
    "Κρίσεις και Πολιτική Προστασία",
    "Ισότητα και Μειονότητες",
    "Άλλο / Γενικά Θέματα"
  ];

  const message = `
    Είσαι ένας εξειδικευμένος βοηθός ανάλυσης περιεχομένου για τα πρακτικά του Ελληνικού Κοινοβουλίου.
    
    Ο σκοπός σου είναι να διαβάσεις την **περίληψη μιας ολόκληρης κοινοβουλευτικής συζήτησης** και να την κατατάξεις στις **2 πιο συναφείς θεματικές κατηγορίες** από την παρακάτω λίστα.
    
    ---
    
    Θεματικές Κατηγορίες:
    ${TOPIC_CATEGORIES.map(c => `- ${c}`).join("\n")}
    
    ---

    Οδηγίες Ταξινόμησης:
    - Επέλεξε **ακριβώς 2 θεματικές κατηγορίες**, **εκτός αν δεν είναι σαφής δεύτερη**, οπότε επίλεξε **μόνο 1**.
    - Η απάντηση πρέπει να είναι **JSON αντικείμενο** με πεδίο "selected_categories", το οποίο είναι πίνακας (array) από strings.
    - Οι κατηγορίες πρέπει να παρατίθενται με **σειρά σχετικότητας**, από την πιο σχετική προς τη λιγότερο σχετική.
    - Αν η συζήτηση είναι πολύ γενική ή δεν σχετίζεται σαφώς με κάποια από τις παραπάνω κατηγορίες, τότε επίλεξε **"Άλλο / Γενικά Θέματα"** ως μία από τις επιλογές.

    ---

    Παράδειγμα:
    Περίληψη: "Η συζήτηση επικεντρώθηκε στη χρηματοδότηση των δημόσιων πανεπιστημίων και την αναγνώριση των επαγγελματικών δικαιωμάτων των αποφοίτων."
    → Απάντηση: { "selected_categories": ["Παιδεία, Θρησκεύματα, Έρευνα και Καινοτομία", "Ανάπτυξη, Ανταγωνιστικότητα και Επενδύσεις"] }

    ---
    
    Περίληψη προς κατηγοριοποίηση:
    """
    ${speech.trim()}
    """
  `.trim();

  return message;
}